---
title: 'Decentralized Finance'
description: 'How Trails supports common flows for DeFi protocols to accelerate TVL and activity.'
icon: 'arrow-up-arrow-down'
---


## Interacting with DeFi Protocols

From CLOBs (central limit order books), lending and borrowing protocols, perpetual & options protocols, Trails is ideal for increasing transaction volume and enabling your users to leverage their unified liquidity as well as a multitude of tokens all while swapping seamlessly for enhancing deposits and improving withdrawals.

## Example Implementation with Aave

### Depositing USDC into Aave on Base

This example shows how to use the Trails widget to deposit USDC into Aave's lending pool on Base:

<CodeGroup>

```tsx AaveDeposit.tsx
import { TrailsWidget } from '@0xsequence/Trails-sdk/widget'
import { encodeFunctionData } from 'viem'
import { aaveABI } from './abi.ts'

export const AaveDepositExample = () => {
  // Aave V3 Pool contract on Base
  const AAVE_POOL_CONTRACT = "0xa0d9C1E9E48Ca30c8d8C3B5D69FF5dc1f6DFfC24"
  
  // Encode the deposit function call on Aave
  const depositCalldata = encodeFunctionData({
    abi: aaveABI,
    functionName: 'depositETH',
    args: [
      "0xA238Dd80C259a72e81d7e4664a9801593F98d1c5", // pool address
      "0x97c4a952b46becad0663f76357d3776ba11566e1", // onBehalfOf
      0, // referralCode
    ],
  })

  return (
    <TrailsWidget
      toAddress={AAVE_POOL_CONTRACT}
      toAmount="100" // 100 USDC
      toChainId={8453} // Base
      toToken="USDC"
      toCalldata={depositCalldata}
      renderInline={true}
      theme="auto"
      walletOptions={{}}
    />
  )
}
```

```typescript abi.ts
export const aaveABI = [
  {
    type: "function",
    name: "depositETH",
    stateMutability: "payable",
    inputs: [
      { name: "pool", type: "address" },
      { name: "onBehalfOf", type: "address" },
      { name: "referralCode", type: "uint16" },
    ],
    outputs: [],
  },
] as const
```

</CodeGroup>

