---
title: One-Click Payments
description: Enable payments across **any blockchain**, with **any wallet**, and in **one click**. Powered by the Anypay SDK and chain-abstraction logic, this protocol bridges, swaps, and settles complex transactions without requiring users to understand the underlying flow.
icon: 'bolt'
---

## What It Does

Anypay allows a user to:

- Execute any arbitrary payment (swap, mint, deposit, buy) on a dapp.
- Purchase an item priced in any token on any chain.
- Even if their funds are on a different chain (Polygon, Ethereum, etc.)

All of this happens with just **one user confirmation**, even if cross-chain bridging or token swapping is required behind the scenes, regardless if they are using an EOA, account abstraction wallet or 7702-enabled wallet.

## How It Works

Anypay enables one-click payments by abstracting complex wallet logic, bridging, and transaction routing into a seamless user flow using the **ERC-7795 requirements object**.

When a user clicks "Buy," the following happens:

1. **Dapp Sends a Transaction + ERC-7795 Requirement**  
   The transaction includes a `requirement` object, compliant with the [ERC-7795 spec](https://eips.ethereum.org/EIPS/eip-7795), which defines a condition that must be met before the transaction can execute — e.g. the user must have 50 USDC on Arbitrum.

2. **Wallet Evaluates Requirement**  
   If the requirement is satisfied (e.g. user already has 50 USDC on Arbitrum), the wallet signs and relays the transaction immediately.  
   If not, the wallet initiates a cross-chain flow to fulfill it.

3. **Anypay Finds a Route**  
   The Anypay SDK computes a route to fulfill the requirement — this may include a swap or bridge from another chain where the user holds USDC (e.g. from Polygon or Mainnet).

4. **User Confirms Once**  
   The wallet bundles and signs both the origin and destination transactions in a single user interaction.

5. **Transactions Are Relayed**  
   - The **origin transaction** (e.g. bridging 50 USDC) is sent immediately.  
   - The **destination transaction** (e.g. NFT purchase) is submitted with the 7795 requirement attached and held by the relayer.

6. **Requirement Met → Final Transaction Sent**  
   Once the relayer observes that the requirement is fulfilled (e.g. 50 USDC received), the destination transaction is dispatched and mined.

This flow works with **any wallet** — MetaMask, WalletConnect, Coinbase Wallet, Sequence, embedded wallets, and more — requiring just **one user confirmation** to complete even multi-chain transactions.


## Example: Buy with Cross-Chain USDC

```ts
import { getClient } from "anypay";
import { createWalletClient, http } from "viem";

// Set up wallet (can be MetaMask, Sequence, embedded, etc.)
const wallet = createWalletClient({
  account: address,
  transport: http(),
});

// Bridge from Arbitrum to Optimism
const quote = await getClient()?.actions.getQuote({
  wallet,
  chainId: 7777777, // From Zora
  toChainId: 8453,  // To Base
  amount: '100000000000000000', // Amount in wei (e.g. 0.1 ETH)
  currency: '0x0000000000000000000000000000', // Token address on origin chain
  toCurrency: '0x0000000000000000000000000000', // Token address on destination
  recipient, // Destination address
});

await getClient()?.actions.execute({
  quote,
  wallet,
  onProgress: (steps, fees, currentStep, currentStepItem) => {
    console.log(steps, fees, currentStep, currentStepItem);
  }
});
